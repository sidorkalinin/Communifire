{"version":3,"sources":["../../src/pages/tasks/task-list/task-list.module.ts","../../src/pages/tasks/task-list/task-list.ts"],"names":[],"mappings":"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","file":"23.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { ComponentsModule } from '../../../components/components.module';\r\nimport { TaskListPage } from './task-list';\r\nimport { TaskProvider } from '../../../providers/task';\r\nimport { SpacesProvider } from '../../../providers/spaces';\r\nimport { MbscModule } from '../../../lib/mobiscroll/js/mobiscroll.angular.min';\r\nimport { PipesModule } from '../../../pipes/pipes.modules'\r\n\r\n@NgModule({\r\n  declarations: [\r\n    TaskListPage,\r\n  ],\r\n  imports: [\r\n    IonicPageModule.forChild(TaskListPage),\r\n    TranslateModule,\r\n    ComponentsModule,\r\n    MbscModule,\r\n    PipesModule\r\n  ],\r\n  providers: [\r\n    TaskProvider,\r\n    SpacesProvider\r\n  ]\r\n})\r\nexport class TaskListPageModule { }\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/tasks/task-list/task-list.module.ts","import { Component, OnInit } from '@angular/core';\r\nimport { IonicPage, NavController, NavParams, LoadingController, ModalController } from 'ionic-angular';\r\nimport { SpacesProvider } from \"../../../providers/spaces\";\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { TaskProvider } from '../../../providers/task';\r\nimport { AuthenticationProvider } from '../../../providers/authentication';\r\n\r\n/**\r\n * Generated class for the TaskListPage page.\r\n *\r\n * See https://ionicframework.com/docs/components/#navigation for more info on\r\n * Ionic pages and navigation.\r\n */\r\n\r\n@IonicPage({\r\n  name: \"task-list\",\r\n  segment: \"task-list\"\r\n})\r\n@Component({\r\n  selector: 'page-task-list',\r\n  templateUrl: 'task-list.html',\r\n})\r\nexport class TaskListPage implements OnInit{\r\n  loader: any;\r\n  spaces: any = [];\r\n  tasklist: any = [];\r\n  tasks: any = [];\r\n  filteredtasks: any = [];\r\n\r\n  selectedSpaceID: any;\r\n  selectedTaskListID: any;\r\n\r\n  myID: any;\r\n\r\n  isLoadingTasks: boolean;\r\n\r\n  constructor(\r\n    public navCtrl: NavController,\r\n    public modalCtrl: ModalController,\r\n    public navParams: NavParams,  \r\n    public loadingCtrl: LoadingController,\r\n    public translate: TranslateService,\r\n    private spaceProvider: SpacesProvider,\r\n    private taskProvider: TaskProvider,\r\n    private authProvider: AuthenticationProvider\r\n  ) {\r\n  }\r\n\r\n  ionViewDidLoad() {\r\n    console.log('ionViewDidLoad TaskListPage');\r\n  }\r\n\r\n  async ngOnInit() {\r\n    this.translate.get(\"COMMONS.LOADING\").subscribe(res => {\r\n      this.loader = this.loadingCtrl.create({\r\n        content: res,\r\n      });\r\n      this.loader.present();\r\n      this.loadSpaceList();\r\n      this.loadMyID();\r\n    });\r\n  }\r\n\r\n  loadMyID(){\r\n    this.authProvider.getMyDetails()\r\n      .finally(()=>{\r\n\r\n      })\r\n      .subscribe((res)=>{\r\n        this.myID = res.UserID;\r\n      })\r\n  }\r\n\r\n  loadSpaceList(){\r\n    this.spaceProvider.getMySpaces()\r\n      .finally(()=>{\r\n        this.loader.dismiss();\r\n      })\r\n      .subscribe((res) =>{\r\n        this.spaces = [];\r\n        //this.spaces.push({ name: 'Top Level Community', value: 0, default: true });\r\n        for(let i = 0; i < res.length; i++){\r\n          this.spaces.push({name: res[i].SpaceName, value: res[i].SpaceID, default: i == 0})\r\n        }\r\n      })\r\n  }\r\n  loadTaskList(spaceid){\r\n    this.tasklist = [];\r\n    this.tasks = [];\r\n    this.taskProvider.getList(spaceid)\r\n      .finally(()=>{\r\n      })\r\n      .subscribe((res)=>{        \r\n        for(let i = 0; i < res.ResponseData.length; i++){\r\n          this.tasklist.push({name: res.ResponseData[i].TaskListName, value: res.ResponseData[i].TaskListID, default: i == 0});\r\n        }\r\n      });\r\n  }\r\n  loadTasks(listid){\r\n    this.isLoadingTasks = true;\r\n    this.taskProvider.getTasks(listid)\r\n      .finally(()=>{        \r\n        this.isLoadingTasks = false;\r\n      })\r\n      .subscribe(res =>{        \r\n        this.tasks = res.ResponseData;\r\n        this.filteredtasks = this.tasks;\r\n      });\r\n  }\r\n  setSpace(space){\r\n    this.selectedSpaceID = space.value;\r\n    this.loadTaskList(space.value);\r\n  }\r\n  setTaskList(tasklist){\r\n    if(tasklist.value == -1)\r\n      return;\r\n    this.selectedTaskListID = tasklist.value;\r\n    this.loadTasks(tasklist.value);\r\n  }\r\n  addTaskList(){\r\n    this.navCtrl.push('task-list-create');    \r\n  }\r\n  addTask(){\r\n    this.navCtrl.push('task-create', {spaceid: this.selectedSpaceID, tasklistid: this.selectedTaskListID});    \r\n  }\r\n\r\n  edit(task){\r\n    this.navCtrl.push('task-edit', {task: task});\r\n  }\r\n  filter(type){\r\n    if(type == 'All'){\r\n      this.filteredtasks = this.tasks;\r\n    }else if(type == 'Today'){\r\n\r\n    }else if(type == 'Mine'){\r\n      this.filteredtasks = this.tasks.filter((v) => {\r\n        if (v.AssignedToUserID == this.myID) {\r\n            return true;\r\n        }else\r\n          return false;\r\n      })\r\n    }\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/tasks/task-list/task-list.ts"],"sourceRoot":""}