{"version":3,"sources":["../../src/pages/photos/photo-detail/photo-detail.module.ts","../../src/pages/photos/photo-detail/photo-detail.ts"],"names":[],"mappings":"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","file":"37.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { PhotoDetailPage } from './photo-detail';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { ComponentsModule } from '../../../components/components.module';\r\nimport { AppCenterAnalytics } from '@ionic-native/app-center-analytics';\r\nimport { PipesModule } from '../../../pipes/pipes.modules'\r\n\r\n@NgModule({\r\n  declarations: [\r\n    PhotoDetailPage,\r\n  ],\r\n  imports: [\r\n    IonicPageModule.forChild(PhotoDetailPage),\r\n    TranslateModule,\r\n    ComponentsModule,\r\n    PipesModule\r\n  ],\r\n  providers: [\r\n    AppCenterAnalytics\r\n  ]\r\n})\r\nexport class PhotoDetailPageModule { }\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/photos/photo-detail/photo-detail.module.ts","import { Component, ViewChild } from '@angular/core';\r\nimport { IonicPage, NavController, NavParams, Refresher, LoadingController } from 'ionic-angular';\r\nimport { ContentProvider } from '../../../providers/content';\r\nimport { SingleContentLikeComponent } from '../../../components/single-content-like/single-content-like';\r\nimport { TapticEngine } from '@ionic-native/taptic-engine'; \r\nimport { Vibration } from '@ionic-native/vibration'; \r\nimport { Platform } from 'ionic-angular';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { AppCenterAnalytics } from '@ionic-native/app-center-analytics';\r\n\r\n@IonicPage({\r\n  name: \"photos\",\r\n  \"segment\": \"photos/:id\"\r\n})\r\n@Component({\r\n  selector: 'page-photo-detail',\r\n  templateUrl: 'photo-detail.html',\r\n})\r\nexport class PhotoDetailPage {\r\n\r\n  id: number = this.navParams.get('id');\r\n  title: number = this.navParams.get('title');\r\n  contentDetail: any = {};\r\n  likesCount: any;\r\n  loader: any;\r\n\r\n  @ViewChild (SingleContentLikeComponent) singleComponentLikeComponent: SingleContentLikeComponent;\r\n\r\n  constructor(\r\n    public navCtrl: NavController, \r\n    public navParams: NavParams,\r\n    public contentProvider: ContentProvider,\r\n    public taptic: TapticEngine,\r\n    public vibration: Vibration,\r\n    public platform: Platform,\r\n    public loadingCtrl: LoadingController,\r\n    public translate: TranslateService,\r\n    private appCenterAnalytics: AppCenterAnalytics\r\n  ) {\r\n    this.getPhotoInfo();\r\n  }\r\n\r\n  vibrate(){\r\n    if(this.platform.is(\"android\")){\r\n      this.vibration.vibrate(50);\r\n    }\r\n  }\r\n\r\n  getPhotoInfo(refresher?: Refresher){\r\n    if(refresher){\r\n      this.taptic.impact({ style: 'light' }); \r\n      this.vibrate();\r\n    } else {\r\n      this.translate.get(\"COMMONS.LOADING_ALBUM\").subscribe(res => {\r\n        this.loader = this.loadingCtrl.create({\r\n          content: res\r\n        })\r\n        this.loader.present();\r\n      });\r\n    }\r\n    this.contentProvider.getContentByID(this.id).finally(() => {\r\n      if(refresher){\r\n        refresher.complete();\r\n      } else {\r\n        this.loader.dismiss();\r\n      }\r\n    }).subscribe(res => {\r\n      console.log(res);\r\n      this.contentDetail = res.ResponseData;\r\n      this.appCenterAnalytics.isEnabled().then( (b) => {\r\n        if(b){\r\n          this.appCenterAnalytics.trackEvent('Photo Detail Load.', { id: this.id.toString(), userid: localStorage.getItem('UserID') }).then(() => {\r\n            console.log('Photo Detail Load Event tracked');\r\n          });\r\n        }\r\n      })\r\n    });\r\n  }\r\n\r\n  ionViewDidLoad() {\r\n  }\r\n\r\n  setCount($event){\r\n    this.likesCount = $event;\r\n  }\r\n\r\n  navToList(){\r\n    let active = this.navCtrl.getActive();\r\n    let parent = this.navCtrl.getPrevious();\r\n    if(this.contentDetail.SpaceID === 0){\r\n      this.navCtrl.push(\"photo-list\", {\r\n        title: this.contentDetail.ReportedByUserName,\r\n        UserID: this.contentDetail.UserID\r\n      }, {\r\n        direction: \"back\"\r\n      });\r\n    } else {\r\n      this.navCtrl.push(\"photo-list\", {\r\n        title: this.contentDetail.SpaceName,\r\n        SpaceID: this.contentDetail.SpaceID\r\n      }, {\r\n        direction: \"back\"\r\n      });\r\n    }\r\n    this.navCtrl.removeView(active);\r\n    this.navCtrl.removeView(parent);\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/photos/photo-detail/photo-detail.ts"],"sourceRoot":""}