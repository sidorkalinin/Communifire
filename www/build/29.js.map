{"version":3,"sources":["../../src/pages/spaces/space-announcement/space-announcement.module.ts","../../src/pages/spaces/space-announcement/space-announcement.ts"],"names":[],"mappings":"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","file":"29.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { SpaceAnnouncementPage } from './space-announcement';\r\nimport { ComponentsModule } from '../../../components/components.module';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { PipesModule } from '../../../pipes/pipes.modules';\r\nimport { SpacesProvider } from '../../../providers/spaces';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    SpaceAnnouncementPage,\r\n  ],\r\n  imports: [\r\n    IonicPageModule.forChild(SpaceAnnouncementPage),\r\n    ComponentsModule,\r\n    TranslateModule,\r\n    PipesModule\r\n  ],\r\n  providers: [\r\n    SpacesProvider\r\n  ]\r\n})\r\nexport class SpaceAnnouncementPageModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/spaces/space-announcement/space-announcement.module.ts","import { Component } from '@angular/core';\r\nimport { IonicPage, NavController, NavParams, InfiniteScroll, Refresher } from 'ionic-angular';\r\nimport { SpacesProvider } from '../../../providers/spaces';\r\nimport { Vibration } from '@ionic-native/vibration';\r\nimport { Platform } from 'ionic-angular';\r\n\r\n@IonicPage({\r\n  name: 'page-space-announcement'\r\n})\r\n@Component({\r\n  selector: 'page-space-announcement',\r\n  templateUrl: 'space-announcement.html',\r\n})\r\nexport class SpaceAnnouncementPage {\r\n  spaceID = this.navParams.get('SpaceID');\r\n  title = this.navParams.get('title');\r\n  announcements: any = [];\r\n  isLoading: boolean = false;\r\n  isRefresh: boolean = false;\r\n  constructor(\r\n    public navCtrl: NavController,\r\n    public navParams: NavParams,\r\n    public spaceProvider: SpacesProvider,\r\n    public vibration: Vibration,\r\n    public platform: Platform,\r\n  ) {\r\n    this.getAnnouncements();\r\n    if(!this.title) {\r\n      this.getSpaceTitle();\r\n    }\r\n  }\r\n\r\n  ionViewDidLoad() {\r\n    \r\n  }\r\n\r\n  vibrate() {\r\n    if (this.platform.is(\"android\")) {\r\n      this.vibration.vibrate(50);\r\n    }\r\n  }\r\n\r\n  doRefreshAnnouncements(refresher?: Refresher) {\r\n    this.isRefresh = true;\r\n    this.vibrate();\r\n    this.spaceProvider.getAnnouncements(this.spaceID)\r\n      .finally(() => {\r\n        this.isRefresh = false;\r\n        refresher.complete();\r\n      })\r\n      .subscribe(res => {\r\n        this.isRefresh = false;\r\n        if(res.IsError == false) {\r\n          if(res.ResponseData) {\r\n            this.announcements = res.ResponseData;\r\n          }\r\n        }\r\n      })\r\n  }\r\n  getAnnouncements(infiniteScroll?: InfiniteScroll) {\r\n    this.isLoading = true;\r\n    this.spaceProvider.getAnnouncements(this.spaceID)\r\n      .finally(() => {\r\n        this.isLoading = false;\r\n      })\r\n      .subscribe(res => {\r\n        this.isLoading = false;\r\n        console.log(res);\r\n        if(res.IsError == false) {\r\n          if(res.ResponseData) {\r\n            this.announcements = res.ResponseData;\r\n          }\r\n        }\r\n      })\r\n  }\r\n  gotoDetail(item) {\r\n    this.navCtrl.push('announcement-detail', {\r\n      SpaceID: this.spaceID,\r\n      title: this.title,\r\n      EntityID: item.PropertyID\r\n    });\r\n  }\r\n  getSpaceTitle() {\r\n    this.spaceProvider.getSpace(this.spaceID)\r\n    .subscribe(res => {\r\n      this.title = res.SpaceName;\r\n    })\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/spaces/space-announcement/space-announcement.ts"],"sourceRoot":""}