{"version":3,"sources":["../../src/pages/events/event-list/event-list.module.ts","../../src/pages/events/event-list/event-list.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;AAAyC;AACO;AACH;AACS;AACI;AACe;AACD;AAgBxE;IAAA;IAAmC,CAAC;IAAvB,mBAAmB;QAd/B,+DAAQ,CAAC;YACR,YAAY,EAAE;gBACZ,kEAAa;aACd;YACD,OAAO,EAAE;gBACP,sEAAe,CAAC,QAAQ,CAAC,kEAAa,CAAC;gBACvC,4EAAe;gBACf,uFAAgB;gBAChB,yEAAW;aACZ;YACD,SAAS,EAAE;gBACT,8FAAkB;aACnB;SACF,CAAC;OACW,mBAAmB,CAAI;IAAD,0BAAC;CAAA;AAAJ;;;;;;;;;;;;;;;;;;;;;;;ACtBU;AACgD;AAC1F,kFAAkF;AACrB;AACW;AAOxE;IAsCE,uBACS,SAA0B,EAC1B,OAAsB,EACtB,SAAoB,EACnB,eAAgC,EAChC,kBAAsC;QALhD,iBAgBC;QAfQ,cAAS,GAAT,SAAS,CAAiB;QAC1B,YAAO,GAAP,OAAO,CAAe;QACtB,cAAS,GAAT,SAAS,CAAW;QACnB,oBAAe,GAAf,eAAe,CAAiB;QAChC,uBAAkB,GAAlB,kBAAkB,CAAoB;QAxCzC,SAAI,GAAW,CAAC,CAAC;QACjB,kBAAa,GAAW,CAAC,CAAC;QAC1B,gBAAW,GAAW,CAAC,CAAC;QAC/B,iBAAY,GAAY,IAAI,CAAC;QAC7B,uBAAkB,GAAY,IAAI,CAAC;QACnC,qBAAgB,GAAY,IAAI,CAAC;QACjC,cAAS,GAAW,CAAC,CAAC;QACtB,oBAAe,GAAW,CAAC,CAAC;QAC5B,kBAAa,GAAW,CAAC,CAAC;QAE1B,cAAS,GAAQ,EAAE,CAAC;QACpB,oBAAe,GAAG,EAAE,CAAC;QACrB,kBAAa,GAAG,EAAE,CAAC;QAEnB,SAAI,GAAG,CAAC,CAAC;QACT,gBAAW,GAAW,wBAAwB,CAAC;QAC/C,gBAAW,GAAQ;YACjB;gBACE,KAAK,EAAE,CAAC;gBACR,IAAI,EAAE,wBAAwB;aAC/B;YACD;gBACE,KAAK,EAAE,CAAC;gBACR,IAAI,EAAE,kBAAkB;aACzB;YACD;gBACE,KAAK,EAAE,CAAC;gBACR,IAAI,EAAE,oBAAoB;aAC3B;YACD;gBACE,KAAK,EAAE,CAAC;gBACR,IAAI,EAAE,mBAAmB;aAC1B;SACF,CAAC;QASA,IAAI,CAAC,SAAS,GAAG,WAAW,CAAC;QAC7B,IAAI,CAAC,kBAAkB,EAAE,CAAC;QAC1B,IAAI,CAAC,kBAAkB,CAAC,SAAS,EAAE,CAAC,IAAI,CAAE,UAAC,CAAC;YAC1C,IAAG,CAAC,EAAC;gBACH,KAAI,CAAC,kBAAkB,CAAC,UAAU,CAAC,wBAAwB,EAAE,EAAE,MAAM,EAAE,YAAY,CAAC,OAAO,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC;oBAC5G,OAAO,CAAC,GAAG,CAAC,+BAA+B,CAAC,CAAC;gBAC/C,CAAC,CAAC,CAAC;aACJ;QACH,CAAC,CAAC;IACJ,CAAC;IAED,sCAAc,GAAd;IACA,CAAC;IAED,4BAAI,GAAJ,UAAK,MAAM;QACT,OAAO,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;IAC7B,CAAC;IAED,oCAAY,GAAZ,UAAa,cAA+B;QAA5C,iBAkFC;QAjFC,IAAG,cAAc,IAAI,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,MAAM,IAAI,CAAC,EAAC;YACzD,cAAc,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;YAC7B,OAAO,CAAC;SACT;QAED,EAAE,IAAI,CAAC,IAAI,CAAC;QAEZ,QAAO,IAAI,CAAC,IAAI,EAAE;YAChB,KAAK,CAAC;gBACJ,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,OAAO,CAAC;oBACzD,IAAI,cAAc,EAAE;wBAClB,cAAc,CAAC,QAAQ,EAAE,CAAC;qBAC3B;yBAAM;wBACL,KAAI,CAAC,YAAY,GAAG,KAAK,CAAC;qBAC3B;gBACH,CAAC,CAAC;qBACD,EAAE,CAAC,UAAC,QAAa;oBAChB,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;oBACtB,IAAI,CAAC,QAAQ,CAAC,YAAY,CAAC,MAAM,IAAI,cAAc,IAAI,QAAQ,CAAC,YAAY,CAAC,MAAM,GAAG,EAAE,IAAI,cAAc,EAAE;wBAC1G,cAAc,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;qBAC9B;gBACH,CAAC,CAAC;qBACD,SAAS,CAAC,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,aAAG,IAAI,qBAAc,CAAC,MAAM,CAAC,KAAK,CAAC,EAA5B,CAA4B,CAAC,CAAC;gBAC9E,MAAM;YACR,KAAK,CAAC;gBACJ,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC,EAAE,CAAC,EAAE,IAAI,EAAE,IAAI,EAAE,MAAM,CAAC,YAAY,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC;oBAC1G,IAAI,cAAc,EAAE;wBAClB,cAAc,CAAC,QAAQ,EAAE,CAAC;qBAC3B;yBAAM;wBACL,KAAI,CAAC,YAAY,GAAG,KAAK,CAAC;qBAC3B;gBACH,CAAC,CAAC;qBACD,EAAE,CAAC,UAAC,QAAa;oBAChB,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;oBACtB,IAAI,CAAC,QAAQ,CAAC,YAAY,CAAC,MAAM,IAAI,cAAc,IAAI,QAAQ,CAAC,YAAY,CAAC,MAAM,GAAG,EAAE,IAAI,cAAc,EAAE;wBAC1G,cAAc,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;qBAC9B;gBACH,CAAC,CAAC;qBACD,SAAS,CAAC,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,aAAG,IAAI,qBAAc,CAAC,MAAM,CAAC,KAAK,CAAC,EAA5B,CAA4B,CAAC,CAAC;gBAC9E,MAAM;YACR,KAAK,CAAC;gBACJ,IAAI,IAAI,GAAG,IAAI,IAAI,CAAC,CAAC,mBAAmB;gBACxC,IAAI,KAAK,GAAG,IAAI,CAAC,OAAO,EAAE,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC,CAAC,0DAA0D;gBACtG,IAAI,IAAI,GAAG,KAAK,GAAG,CAAC,CAAC,CAAC,gCAAgC;gBAEtD,IAAI,QAAQ,GAAG,IAAI,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,WAAW,EAAE,CAAC;gBAC3D,IAAI,OAAO,GAAG,IAAI,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,WAAW,EAAE,CAAC;gBAEzD,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC,EAAE,CAAC,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,QAAQ,EAAE,OAAO,CAAC,CAAC,OAAO,CAAC;oBAC3F,IAAI,cAAc,EAAE;wBAClB,cAAc,CAAC,QAAQ,EAAE,CAAC;qBAC3B;yBAAM;wBACL,KAAI,CAAC,YAAY,GAAG,KAAK,CAAC;qBAC3B;gBACH,CAAC,CAAC;qBACD,EAAE,CAAC,UAAC,QAAa;oBAChB,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;oBACtB,IAAI,CAAC,QAAQ,CAAC,YAAY,CAAC,MAAM,IAAI,cAAc,IAAI,QAAQ,CAAC,YAAY,CAAC,MAAM,GAAG,EAAE,IAAI,cAAc,EAAE;wBAC1G,cAAc,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;qBAC9B;gBACH,CAAC,CAAC;qBACD,SAAS,CAAC,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,aAAG,IAAI,qBAAc,CAAC,MAAM,CAAC,KAAK,CAAC,EAA5B,CAA4B,CAAC,CAAC;gBAE9E,MAAM;YACR,KAAK,CAAC;gBACJ,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,OAAO,CAAC;oBACtD,IAAI,cAAc,EAAE;wBAClB,cAAc,CAAC,QAAQ,EAAE,CAAC;qBAC3B;yBAAM;wBACL,KAAI,CAAC,YAAY,GAAG,KAAK,CAAC;qBAC3B;gBACH,CAAC,CAAC;qBACD,EAAE,CAAC,UAAC,QAAa;oBAChB,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;oBACtB,IAAI,CAAC,QAAQ,CAAC,YAAY,CAAC,MAAM,IAAI,cAAc,IAAI,QAAQ,CAAC,YAAY,CAAC,MAAM,GAAG,EAAE,IAAI,cAAc,EAAE;wBAC1G,cAAc,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;qBAC9B;gBACH,CAAC,CAAC;qBACD,SAAS,CAAC,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,aAAG,IAAI,qBAAc,CAAC,MAAM,CAAC,KAAK,CAAC,EAA5B,CAA4B,CAAC,CAAC;gBAC9E,MAAM;SACT;IACH,CAAC;IAED,0CAAkB,GAAlB,UAAmB,cAA+B;QAAlD,iBAmBC;QAlBC,IAAG,cAAc,IAAI,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC,MAAM,IAAI,CAAC,EAAC;YAC/D,cAAc,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;YAC7B,OAAO,CAAC;SACT;QACD,EAAE,IAAI,CAAC,aAAa,CAAC;QACrB,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,IAAI,CAAC,aAAa,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,OAAO,CAAC;YACrE,IAAI,cAAc,EAAE;gBAClB,cAAc,CAAC,QAAQ,EAAE,CAAC;aAC3B;iBAAM;gBACL,KAAI,CAAC,kBAAkB,GAAG,KAAK,CAAC;aACjC;QACH,CAAC,CAAC;aACD,EAAE,CAAC,UAAC,QAAa;YAChB,IAAI,CAAC,QAAQ,CAAC,YAAY,CAAC,MAAM,IAAI,cAAc,IAAI,QAAQ,CAAC,YAAY,CAAC,MAAM,GAAG,EAAE,IAAI,cAAc,EAAE;gBAC1G,cAAc,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;aAC9B;QACH,CAAC,CAAC;aACD,SAAS,CAAC,IAAI,CAAC,qBAAqB,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,aAAG,IAAI,qBAAc,CAAC,MAAM,CAAC,KAAK,CAAC,EAA5B,CAA4B,CAAC,CAAC;IACzF,CAAC;IAED,wCAAgB,GAAhB,UAAiB,cAA+B;QAAhD,iBAmBC;QAlBC,IAAG,cAAc,IAAI,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,MAAM,IAAI,CAAC,EAAC;YAC7D,cAAc,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;YAC7B,OAAO,CAAC;SACT;QACD,EAAE,IAAI,CAAC,WAAW,CAAC;QACnB,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,OAAO,CAAC;YACnE,IAAI,cAAc,EAAE;gBAClB,cAAc,CAAC,QAAQ,EAAE,CAAC;aAC3B;iBAAM;gBACL,KAAI,CAAC,gBAAgB,GAAG,KAAK,CAAC;aAC/B;QACH,CAAC,CAAC;aACD,EAAE,CAAC,UAAC,QAAa;YAChB,IAAI,CAAC,QAAQ,CAAC,YAAY,CAAC,MAAM,IAAI,cAAc,IAAI,QAAQ,CAAC,YAAY,CAAC,MAAM,GAAG,EAAE,IAAI,cAAc,EAAE;gBAC1G,cAAc,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;aAC9B;QACH,CAAC,CAAC;aACD,SAAS,CAAC,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,aAAG,IAAI,qBAAc,CAAC,MAAM,CAAC,KAAK,CAAC,EAA5B,CAA4B,CAAC,CAAC;IACvF,CAAC;IAED,oCAAY,GAAZ,UAAa,QAAQ;QAArB,iBAUC;QATC,IAAI,GAAG,GAAG,QAAQ,CAAC,YAAY,CAAC;QAChC,IAAI,CAAC,SAAS,GAAG,GAAG,CAAC,MAAM,CAAC;QAC5B,GAAG,CAAC,OAAO,CAAC,cAAI;YACd,IAAI,GAAG,GAAG,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;YAC1C,IAAI,CAAC,KAAI,CAAC,SAAS,CAAC,GAAG,CAAC,EAAC;gBACvB,KAAI,CAAC,SAAS,CAAC,GAAG,CAAC,GAAG,EAAE,CAAC;aAC1B;YACD,KAAI,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACjC,CAAC,CAAC,CAAC;IACL,CAAC;IAED,6CAAqB,GAArB,UAAsB,QAAQ;QAA9B,iBAUC;QATC,IAAI,GAAG,GAAG,QAAQ,CAAC,YAAY,CAAC;QAChC,IAAI,CAAC,eAAe,GAAG,GAAG,CAAC,MAAM,CAAC;QAClC,GAAG,CAAC,OAAO,CAAC,cAAI;YACd,IAAI,GAAG,GAAG,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;YAC1C,IAAI,CAAC,KAAI,CAAC,eAAe,CAAC,GAAG,CAAC,EAAC;gBAC7B,KAAI,CAAC,eAAe,CAAC,GAAG,CAAC,GAAG,EAAE,CAAC;aAChC;YACD,KAAI,CAAC,eAAe,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACvC,CAAC,CAAC,CAAC;IACL,CAAC;IAED,2CAAmB,GAAnB,UAAoB,QAAQ;QAA5B,iBAUC;QATC,IAAI,GAAG,GAAG,QAAQ,CAAC,YAAY,CAAC;QAChC,IAAI,CAAC,aAAa,GAAG,GAAG,CAAC,MAAM,CAAC;QAChC,GAAG,CAAC,OAAO,CAAC,cAAI;YACd,IAAI,GAAG,GAAG,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;YAC1C,IAAI,CAAC,KAAI,CAAC,aAAa,CAAC,GAAG,CAAC,EAAC;gBAC3B,KAAI,CAAC,aAAa,CAAC,GAAG,CAAC,GAAG,EAAE,CAAC;aAC9B;YACD,KAAI,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACrC,CAAC,CAAC,CAAC;IACL,CAAC;IAED,uCAAe,GAAf;QACE,IAAI,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,MAAM,IAAI,CAAC,IAAI,IAAI,CAAC,SAAS,KAAK,KAAK,EAAC;YACpE,IAAI,CAAC,YAAY,EAAE,CAAC;SACrB;QACD,IAAI,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,MAAM,IAAI,CAAC,IAAI,IAAI,CAAC,SAAS,KAAK,SAAS,EAAC;YAC5E,IAAI,CAAC,gBAAgB,EAAE,CAAC;SACzB;QACD,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;IAC9B,CAAC;IAED,iCAAS,GAAT,UAAU,KAAK;QACb,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,QAAQ,EAAE;YAC1B,EAAE,EAAE,KAAK,CAAC,OAAO;SAClB,CAAC;IACJ,CAAC;IAED,gCAAQ,GAAR;QACE,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;QAClC,0DAA0D;QAC1D,mBAAmB;QACnB,8BAA8B;QAC9B,0BAA0B;QAC1B,cAAc;QACd,wCAAwC;QACxC,kBAAkB;QAClB,OAAO;QACP,MAAM;IACR,CAAC;IAED,iCAAS,GAAT;QACE,QAAQ,IAAI,CAAC,IAAI,EAAE;YACjB,KAAK,CAAC;gBACJ,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;gBAC5C,MAAM;YACR,KAAK,CAAC;gBACJ,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;gBAC5C,MAAM;YACR,KAAK,CAAC;gBACJ,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;gBAC5C,MAAM;YACR,KAAK,CAAC;gBACJ,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;gBAC5C,MAAM;SACT;QACD,IAAI,CAAC,IAAI,GAAG,CAAC,CAAC;QACd,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC;QACpB,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;QACzB,IAAI,CAAC,eAAe,EAAE,CAAC;IACzB,CAAC;IAED,mCAAW,GAAX,UAAY,GAAG;QACb,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QACjB,OAAO,GAAG,CAAC;IACb,CAAC;IAtRU,aAAa;QAJzB,gEAAS,CAAC;YACT,QAAQ,EAAE,iBAAiB;WACG;SAC/B,CAAC;iFAwCmC;YACjB,iEAAa;YACX,2EAAS;YACF,8FAAe;YACZ,UAAkB;OA3CrC,aAAa,CAuRzB;IAAD,CAAC;AAAA;SAvRY,aAAa,gB","file":"50.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { EventListPage } from './event-list';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { PipesModule } from '../../../pipes/pipes.modules'\r\nimport { ComponentsModule } from '../../../components/components.module';\r\nimport { AppCenterAnalytics } from '@ionic-native/app-center-analytics';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    EventListPage,\r\n  ],\r\n  imports: [\r\n    IonicPageModule.forChild(EventListPage),\r\n    TranslateModule,\r\n    ComponentsModule,\r\n    PipesModule\r\n  ],\r\n  providers: [\r\n    AppCenterAnalytics,\r\n  ]\r\n})\r\nexport class EventListPageModule { }\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/events/event-list/event-list.module.ts","import { Component } from '@angular/core';\r\nimport { IonicPage, NavController, NavParams, InfiniteScroll, ModalController } from 'ionic-angular';\r\n//import { SpaceModalComponent } from '../../../modals/select-space-modal/spaces';\r\nimport { ContentProvider } from \"../../../providers/content\";\r\nimport { AppCenterAnalytics } from '@ionic-native/app-center-analytics';\r\n\r\n@IonicPage({\r\n  name: \"event-list\",\r\n  segment: \"event-list\"\r\n})\r\n@Component({\r\n  selector: 'page-event-list',\r\n  templateUrl: 'event-list.html',\r\n})\r\nexport class EventListPage {\r\n\r\n  private eventType: string;\r\n  public page: number = 0;\r\n  public attendeesPage: number = 0;\r\n  public invitedPage: number = 0;\r\n  isLoadingAll: boolean = true;\r\n  isLoadingAttendees: boolean = true;\r\n  isLoadingInvited: boolean = true;\r\n  lengthAll: number = 0;\r\n  lengthAttendees: number = 0;\r\n  lengthInvited: number = 0;\r\n\r\n  allEvents: any = {};\r\n  attendeesEvents = {};\r\n  invitedEvents = {};\r\n\r\n  sort = 0;\r\n  filterModel: string = \"COMMONS.UPCOMINGEVENTS\";\r\n  filterItems: any = [    \r\n    {\r\n      value: 0,\r\n      name: \"COMMONS.UPCOMINGEVENTS\"\r\n    },\r\n    {\r\n      value: 1,\r\n      name: \"COMMONS.MYEVENTS\"\r\n    },\r\n    {\r\n      value: 2,\r\n      name: \"COMMONS.WEEKEVENTS\"\r\n    },\r\n    {\r\n      value: 3,\r\n      name: \"COMMONS.ALLEVENTS\"\r\n    }\r\n  ];\r\n\r\n  constructor(\r\n    public modalCtrl: ModalController,\r\n    public navCtrl: NavController,\r\n    public navParams: NavParams,\r\n    private contentProvider: ContentProvider,\r\n    private appCenterAnalytics: AppCenterAnalytics\r\n  ) {\r\n    this.eventType = \"attending\";\r\n    this.getAttendeesEvents();\r\n    this.appCenterAnalytics.isEnabled().then( (b) => {\r\n      if(b){\r\n        this.appCenterAnalytics.trackEvent('Event List Load Event.', { userid: localStorage.getItem('UserID') }).then(() => {\r\n          console.log('Event List Load Event tracked');\r\n        });\r\n      }\r\n    })\r\n  }\r\n\r\n  ionViewDidLoad() {\r\n  }\r\n\r\n  keys(object) : Array<string> {\r\n    return Object.keys(object);\r\n  }\r\n\r\n  getAllEvents(infiniteScroll?: InfiniteScroll){\r\n    if(infiniteScroll && this.keys(this.allEvents).length == 0){\r\n      infiniteScroll.enable(false);\r\n      return 0\r\n    } \r\n\r\n    ++this.page;\r\n\r\n    switch(this.sort) {\r\n      case 0:\r\n        this.contentProvider.getEvents(this.page, 1, 3, 4).finally(() => {\r\n          if (infiniteScroll) {\r\n            infiniteScroll.complete();\r\n          } else {\r\n            this.isLoadingAll = false;\r\n          }\r\n        })\r\n        .do((response: any) => {\r\n          console.log(response);\r\n          if (!response.ResponseData.length && infiniteScroll || response.ResponseData.length < 10 && infiniteScroll) {\r\n            infiniteScroll.enable(false);\r\n          }\r\n        })\r\n        .subscribe(this.handleEvents.bind(this), err => infiniteScroll.enable(false));\r\n        break;\r\n      case 1:\r\n        this.contentProvider.getEvents(this.page, 1, 3, null, null, Number(localStorage.getItem('UserID'))).finally(() => {\r\n          if (infiniteScroll) {\r\n            infiniteScroll.complete();\r\n          } else {\r\n            this.isLoadingAll = false;\r\n          }\r\n        })\r\n        .do((response: any) => {\r\n          console.log(response);\r\n          if (!response.ResponseData.length && infiniteScroll || response.ResponseData.length < 10 && infiniteScroll) {\r\n            infiniteScroll.enable(false);\r\n          }\r\n        })\r\n        .subscribe(this.handleEvents.bind(this), err => infiniteScroll.enable(false));\r\n        break;\r\n      case 2:\r\n        let curr = new Date; // get current date\r\n        let first = curr.getDate() - curr.getDay(); // First day is the day of the month - the day of the week\r\n        let last = first + 6; // last day is the first day + 6\r\n        \r\n        let firstday = new Date(curr.setDate(first)).toISOString();\r\n        let lastday = new Date(curr.setDate(last)).toISOString();\r\n        \r\n        this.contentProvider.getEvents(this.page, 1, 3, null, null, null, firstday, lastday).finally(() => {\r\n          if (infiniteScroll) {\r\n            infiniteScroll.complete();\r\n          } else {\r\n            this.isLoadingAll = false;\r\n          }\r\n        })\r\n        .do((response: any) => {\r\n          console.log(response);\r\n          if (!response.ResponseData.length && infiniteScroll || response.ResponseData.length < 10 && infiniteScroll) {\r\n            infiniteScroll.enable(false);\r\n          }\r\n        })\r\n        .subscribe(this.handleEvents.bind(this), err => infiniteScroll.enable(false));\r\n\r\n        break;\r\n      case 3:\r\n        this.contentProvider.getEvents(this.page, 1, 3).finally(() => {\r\n          if (infiniteScroll) {\r\n            infiniteScroll.complete();\r\n          } else {\r\n            this.isLoadingAll = false;\r\n          }\r\n        })\r\n        .do((response: any) => {\r\n          console.log(response);\r\n          if (!response.ResponseData.length && infiniteScroll || response.ResponseData.length < 10 && infiniteScroll) {\r\n            infiniteScroll.enable(false);\r\n          }\r\n        })\r\n        .subscribe(this.handleEvents.bind(this), err => infiniteScroll.enable(false));\r\n        break;\r\n    }\r\n  }\r\n\r\n  getAttendeesEvents(infiniteScroll?: InfiniteScroll){\r\n    if(infiniteScroll && this.keys(this.attendeesEvents).length == 0){\r\n      infiniteScroll.enable(false);\r\n      return 0\r\n    }\r\n    ++this.attendeesPage;\r\n    this.contentProvider.getEvents(this.attendeesPage, 1, 3, 8, 1).finally(() => {\r\n      if (infiniteScroll) {\r\n        infiniteScroll.complete();\r\n      } else {\r\n        this.isLoadingAttendees = false;\r\n      }\r\n    })\r\n    .do((response: any) => {\r\n      if (!response.ResponseData.length && infiniteScroll || response.ResponseData.length < 10 && infiniteScroll) {\r\n        infiniteScroll.enable(false);\r\n      }\r\n    })\r\n    .subscribe(this.handleAttendeesEvents.bind(this), err => infiniteScroll.enable(false));\r\n  }\r\n\r\n  getInvitedEvents(infiniteScroll?: InfiniteScroll){\r\n    if(infiniteScroll && this.keys(this.invitedEvents).length == 0){\r\n      infiniteScroll.enable(false);\r\n      return 0\r\n    }\r\n    ++this.invitedPage;\r\n    this.contentProvider.getEvents(this.invitedPage, 1, 3, 8, 5).finally(() => {\r\n      if (infiniteScroll) {\r\n        infiniteScroll.complete();\r\n      } else {\r\n        this.isLoadingInvited = false;\r\n      }\r\n    })\r\n    .do((response: any) => {\r\n      if (!response.ResponseData.length && infiniteScroll || response.ResponseData.length < 10 && infiniteScroll) {\r\n        infiniteScroll.enable(false);\r\n      }\r\n    })\r\n    .subscribe(this.handleInvitedEvents.bind(this), err => infiniteScroll.enable(false));\r\n  }\r\n\r\n  handleEvents(response){\r\n    let res = response.ResponseData;\r\n    this.lengthAll = res.length;\r\n    res.forEach(item => {\r\n      let key = item.StartDateISO.split('T')[0];\r\n      if (!this.allEvents[key]){\r\n        this.allEvents[key] = [];\r\n      }\r\n      this.allEvents[key].push(item);\r\n    });\r\n  }\r\n\r\n  handleAttendeesEvents(response){\r\n    let res = response.ResponseData;\r\n    this.lengthAttendees = res.length;\r\n    res.forEach(item => {\r\n      let key = item.StartDateISO.split('T')[0];\r\n      if (!this.attendeesEvents[key]){\r\n        this.attendeesEvents[key] = [];\r\n      }\r\n      this.attendeesEvents[key].push(item);\r\n    });\r\n  }\r\n\r\n  handleInvitedEvents(response){\r\n    let res = response.ResponseData;\r\n    this.lengthInvited = res.length;\r\n    res.forEach(item => {\r\n      let key = item.StartDateISO.split('T')[0];\r\n      if (!this.invitedEvents[key]){\r\n        this.invitedEvents[key] = [];\r\n      }\r\n      this.invitedEvents[key].push(item);\r\n    });\r\n  }\r\n\r\n  changeEventType(){\r\n    if (this.keys(this.allEvents).length == 0 && this.eventType === \"all\"){\r\n      this.getAllEvents();\r\n    }\r\n    if (this.keys(this.invitedEvents).length == 0 && this.eventType === \"invited\"){\r\n      this.getInvitedEvents();\r\n    }\r\n    console.log(this.eventType);\r\n  }\r\n\r\n  goToEvent(event){\r\n    this.navCtrl.push('events', {\r\n      id: event.EventID\r\n    })\r\n  }\r\n\r\n  addClick(){\r\n    this.navCtrl.push('event-create');\r\n    // let modal = this.modalCtrl.create(SpaceModalComponent);\r\n    // modal.present();\r\n    // modal.onDidDismiss(data =>{\r\n    //   if(data == undefined)\r\n    //     return;\r\n    //   this.navCtrl.push('event-create', {\r\n    //     id: data.id\r\n    //   })\r\n    // });\r\n  }\r\n\r\n  setFilter() {\r\n    switch (this.sort) {\r\n      case 0:\r\n        this.filterModel = this.filterItems[0].name;\r\n        break;\r\n      case 1:\r\n        this.filterModel = this.filterItems[1].name;\r\n        break;\r\n      case 2:\r\n        this.filterModel = this.filterItems[2].name;\r\n        break;\r\n      case 3:\r\n        this.filterModel = this.filterItems[3].name;\r\n        break;\r\n    }\r\n    this.page = 0;\r\n    this.allEvents = {};\r\n    this.isLoadingAll = true;\r\n    this.changeEventType();\r\n  }\r\n\r\n  displayDate(key) {\r\n    console.log(key);\r\n    return key;\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/events/event-list/event-list.ts"],"sourceRoot":""}