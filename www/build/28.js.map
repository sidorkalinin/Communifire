{"version":3,"sources":["../../src/pages/spaces/space-details/space-details.module.ts","../../src/pages/spaces/space-details/space-details.ts"],"names":[],"mappings":"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","file":"28.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { SpaceDetailsPage } from './space-details';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { ComponentsModule } from '../../../components/components.module';\r\nimport { PeopleProvider } from '../../../providers/people';\r\nimport { SpacesProvider } from '../../../providers/spaces';\r\nimport { PipesModule } from '../../../pipes/pipes.modules'\r\nimport { AppCenterAnalytics } from '@ionic-native/app-center-analytics';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    SpaceDetailsPage,\r\n  ],\r\n  imports: [\r\n    IonicPageModule.forChild(SpaceDetailsPage),\r\n    ComponentsModule,\r\n    TranslateModule,\r\n    PipesModule\r\n  ],\r\n  providers: [\r\n    PeopleProvider,\r\n    SpacesProvider,\r\n    AppCenterAnalytics\r\n  ]\r\n})\r\nexport class SpaceDetailsPageModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/spaces/space-details/space-details.module.ts","import { Component, OnInit } from '@angular/core';\r\nimport { IonicPage, ViewController, NavParams, InfiniteScroll, NavController, Refresher } from 'ionic-angular';\r\nimport 'rxjs/add/operator/finally';\r\nimport 'rxjs/add/operator/do';\r\n\r\nimport { SpacesProvider } from '../../../providers/spaces';\r\nimport { AppCenterAnalytics } from '@ionic-native/app-center-analytics';\r\nimport { TranslateService } from '@ngx-translate/core';\r\n\r\n@IonicPage({\r\n  name: 'space-details',\r\n  segment: 'space-details/:id'\r\n})\r\n\r\n@Component({\r\n  selector: 'page-space-details',\r\n  templateUrl: 'space-details.html',\r\n})\r\nexport class SpaceDetailsPage implements OnInit {\r\n  private page = 0;\r\n  public spaceId = this.navParams.get('id');  \r\n  spaceView: number = 0;\r\n  space;\r\n  spaceActivities = [];\r\n  spaceUsers = [];\r\n  searchtext = '';\r\n  communityUrl = localStorage.getItem('community_url');\r\n  isLoading: boolean = false;\r\n  isLoadingActivity: boolean = false;\r\n  isLoadingUsers: boolean = false;\r\n  private peoplePage = 0;\r\n\r\n  buttons = [\r\n    // {\r\n    //   icon: 'ios-home',\r\n    //   text: 'Home'\r\n    // },\r\n    {\r\n      icon: 'ios-list',\r\n      text: 'PROFILE.BUTTONGROUP.ACTIVITY'\r\n    }, {\r\n      icon: 'ios-people',\r\n      text: 'PEOPLE.HEADING'\r\n    }, {\r\n      icon: 'ios-cog',\r\n      text: 'PROFILE.BUTTONGROUP.MORE'\r\n    }];\r\n\r\n  list = [\r\n    {\r\n      id: 3,\r\n      icon: \"file\",\r\n      title: \"Articles\",\r\n      name: \"article-list\",\r\n      meta: \"Article\"\r\n    },\r\n    {\r\n      id: 4,\r\n      icon: \"files-o\",\r\n      title: \"Blogs\",\r\n      name: \"blog-list\",\r\n      meta: \"Blog\"\r\n    },\r\n    {\r\n      id: 19,\r\n      icon: \"briefcase\",\r\n      title: \"Cases\",\r\n      name: \"case-list\",\r\n      meta: \"Issue\"\r\n    },\r\n    {\r\n      id: 1,\r\n      icon: \"comments\",\r\n      title: \"Discussions\",\r\n      name: \"discussion-list\",\r\n      meta: \"Forum\"\r\n    },\r\n    {\r\n      id: 14,\r\n      icon: \"folder-open\",\r\n      title: \"Files\",\r\n      name: \"file-list\",\r\n      meta: \"File\"\r\n    },\r\n    {\r\n      id: 44,\r\n      icon: \"lightbulb-o\",\r\n      title: \"Ideas\",\r\n      name: \"idea-list\",\r\n      meta: \"Idea\"\r\n    },\r\n    {\r\n      id: 18,\r\n      icon: \"picture-o\",\r\n      title: \"Photos\",\r\n      name: \"photo-list\",\r\n      meta: \"Photo\"\r\n    },\r\n    {\r\n      id: 7,\r\n      icon: \"video-camera\",\r\n      title: \"Videos\",\r\n      name: \"video-list\",\r\n      meta: \"Video\"\r\n    },\r\n    {\r\n      id: 9,\r\n      icon: \"book\",\r\n      title: \"Wiki\",\r\n      name: \"wiki-list\",\r\n      meta: \"Wiki\"\r\n    },\r\n    {\r\n      id: 64,\r\n      icon: \"bell\",\r\n      title: \"Announcement\",\r\n      name: \"page-space-announcement\",\r\n      meta: \"Announcement\"\r\n    }\r\n  ];\r\n\r\n  entitiesAccess: any = {\r\n    Article: false,\r\n    Blog: false,\r\n    Issue: false,\r\n    Forum: false,\r\n    File: false,\r\n    Idea: false,\r\n    Video: false,\r\n    Photo: false,    \r\n    Wiki: false,\r\n    Announcement: false\r\n  };\r\n\r\n  isOneEnabled: boolean = true;\r\n\r\n  checkAccess() {\r\n    let keyArray = [\"Article\", \"Blog\", \"Issue\", \"Forum\", \"File\", \"Idea\", \"Photo\", \"Video\", \"Wiki\", 'Announcement'];\r\n    let flag = false;\r\n    for (let i = 0; i < keyArray.length; ++i) {\r\n      if (this.entitiesAccess[keyArray[i]] === true) {\r\n        flag = true;\r\n      }\r\n    }\r\n    this.isOneEnabled = flag;\r\n  }\r\n\r\n  constructor(\r\n    public viewCtrl: ViewController,\r\n    public navParams: NavParams,\r\n    private spacesProvider: SpacesProvider,\r\n    private navCtrl: NavController,\r\n    private appCenterAnalytics: AppCenterAnalytics,\r\n    public translate: TranslateService\r\n  ) {\r\n    let string = \"\";\r\n    for (let i = 0; i < this.list.length; ++i) {\r\n      if (this.list[i].id == 18) {\r\n        string += 6 + \",\";\r\n      } else {\r\n        string += this.list[i].id + \",\";\r\n      }\r\n    }\r\n    localStorage.setItem('SpaceID', this.spaceId);\r\n    this.spacesProvider.checkEntities(this.spaceId, string).subscribe(res => {\r\n      this.entitiesAccess = res.ResponseData;\r\n      console.log(this.entitiesAccess);\r\n      this.entitiesAccess['Announcement'] = true;\r\n      this.checkAccess();\r\n    });\r\n\r\n    this.translate.get([\"TITLES.ARTICLES\", \"TITLES.BLOGS\", \"TITLES.CASES\", \"TITLES.DISCUSSIONS\", \"TITLES.FILES\", \"TITLES.IDEAS\",\r\n                        \"TITLES.PHOTOS\", \"TITLES.VIDEOS\", \"TITLES.WIKIS\", \"ANNOUNCEMENT.ANNOUNCEMENTS\"\r\n    ]).subscribe((res) => {      \r\n      this.list = [\r\n        {\r\n          id: 3,\r\n          icon: \"file\",\r\n          title: res[\"TITLES.ARTICLES\"],\r\n          name: \"article-list\",\r\n          meta: \"Article\"\r\n        },\r\n        {\r\n          id: 4,\r\n          icon: \"files-o\",\r\n          title: res[\"TITLES.BLOGS\"],\r\n          name: \"blog-list\",\r\n          meta: \"Blog\"\r\n        },\r\n        {\r\n          id: 19,\r\n          icon: \"briefcase\",\r\n          title: res[\"TITLES.CASES\"],\r\n          name: \"case-list\",\r\n          meta: \"Issue\"\r\n        },\r\n        {\r\n          id: 1,\r\n          icon: \"comments\",\r\n          title: res[\"TITLES.DISCUSSIONS\"],\r\n          name: \"discussion-list\",\r\n          meta: \"Forum\"\r\n        },\r\n        {\r\n          id: 14,\r\n          icon: \"folder-open\",\r\n          title: res[\"TITLES.FILES\"],\r\n          name: \"file-list\",\r\n          meta: \"File\"\r\n        },\r\n        {\r\n          id: 44,\r\n          icon: \"lightbulb-o\",\r\n          title: res[\"TITLES.IDEAS\"],\r\n          name: \"idea-list\",\r\n          meta: \"Idea\"\r\n        },\r\n        {\r\n          id: 18,\r\n          icon: \"picture-o\",\r\n          title: res[\"TITLES.PHOTOS\"],\r\n          name: \"photo-list\",\r\n          meta: \"Photo\"\r\n        },\r\n        {\r\n          id: 7,\r\n          icon: \"video-camera\",\r\n          title: res[\"TITLES.VIDEOS\"],\r\n          name: \"video-list\",\r\n          meta: \"Video\"\r\n        },\r\n        {\r\n          id: 9,\r\n          icon: \"book\",\r\n          title: res[\"TITLES.WIKIS\"],\r\n          name: \"wiki-list\",\r\n          meta: \"Wiki\"\r\n        },\r\n        {\r\n          id: 64,\r\n          icon: \"bell\",\r\n          title: res[\"ANNOUNCEMENT.ANNOUNCEMENTS\"],\r\n          name: \"page-space-announcement\",\r\n          meta: \"Announcement\"\r\n        },\r\n      ];\r\n    });\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.isLoading = true;\r\n    console.log(this.spaceId);\r\n\r\n    this.spacesProvider\r\n      .getSpace(this.spaceId)\r\n      .finally(() => this.isLoading = false)\r\n      .subscribe(space => {\r\n        this.space = space;\r\n        if(this.spaceId == 0){\r\n          this.space.SpaceVisibility = 4;\r\n        }\r\n\r\n        this.appCenterAnalytics.isEnabled().then( (b) => {\r\n          if(b){\r\n            this.appCenterAnalytics.trackEvent('Space Detail Load.', { id: this.spaceId, userid: localStorage.getItem('UserID') }).then(() => {\r\n              console.log('Space Detail Load Event tracked');\r\n            });\r\n          }\r\n        })\r\n      });\r\n    if (this.spaceId == 0) {\r\n      this.spaceView = 2;\r\n    }\r\n    // this.getSpaceActivities();\r\n    console.log(this.list);\r\n  }\r\n\r\n  doRefresh(refresh: Refresher) {\r\n\r\n    this.page = 1;\r\n    this.spaceActivity()\r\n      .finally(() => {\r\n        refresh.complete();\r\n      })\r\n      .subscribe(res => {\r\n        this.spaceActivities = [];\r\n        this.handleSpace(res);\r\n      })\r\n  }\r\n\r\n  goToEntity(item) {\r\n    this.navCtrl.push(item.name, {\r\n      id: item.id,\r\n      title: this.space.SpaceName,\r\n      subTitle: item.title,\r\n      SpaceID: this.space.SpaceID\r\n    });\r\n  }\r\n\r\n  refreshPage($event) {\r\n    console.log($event);\r\n    this.spaceActivities.unshift($event);\r\n    this.spaceActivities.pop();\r\n  }\r\n\r\n  ionViewDidLoad() {\r\n    this.viewCtrl.setBackButtonText(null);\r\n    this.getSpaceActivities();\r\n  }\r\n\r\n  switchSpaceView(view) {\r\n    this.spaceView = view.index;\r\n\r\n    if (this.spaceView === 0 && !this.spaceActivities.length) {\r\n      this.getSpaceActivities();\r\n    } else if (this.spaceView === 1 && !this.spaceUsers.length) {\r\n      this.getSpaceUsers();\r\n    }\r\n  }\r\n\r\n  private spaceActivity() {\r\n    // Fetch Space Activity\r\n    return this.spacesProvider.getSpaceActivity(this.spaceId, this.page);\r\n  }\r\n\r\n  getSpaceUsers(infiniteScroll?: InfiniteScroll) {\r\n    if (!infiniteScroll) {\r\n      this.isLoadingUsers = true;\r\n    }\r\n\r\n    if (this.spaceUsers.length > 0 && this.spaceUsers.length < 15) {\r\n      infiniteScroll.enable(false);\r\n      return;\r\n    }\r\n\r\n    ++this.peoplePage;\r\n\r\n    // Fetch Space user by Id\r\n    this.spacesProvider.getSpaceUsers(this.spaceId, this.peoplePage, 15)\r\n      .finally(() => {\r\n        if (!infiniteScroll) {\r\n          this.isLoadingUsers = false\r\n        }\r\n        if (infiniteScroll) {\r\n          infiniteScroll.complete();\r\n        }\r\n      })\r\n      .do(response => {\r\n        if (infiniteScroll && !response.ResponseData.length) {\r\n          infiniteScroll.enable(false);\r\n        }\r\n      })\r\n      .subscribe(res => {\r\n        this.spaceUsers = this.spaceUsers.concat(res.ResponseData);\r\n        if (res.ResponseData.length < 15 && infiniteScroll) {\r\n          infiniteScroll.enable(false);\r\n        }\r\n      });\r\n  }\r\n\r\n  getSpaceActivities(infiniteScroll?: InfiniteScroll) {\r\n    if (this.spaceActivities.length > 0 && this.spaceActivities.length < 10) {\r\n      infiniteScroll.enable(false);\r\n    }\r\n    if (!infiniteScroll) {\r\n      this.isLoadingActivity = true;\r\n    }\r\n\r\n    this.page++;\r\n    this.spaceActivity()\r\n      .finally(() => {\r\n        if (infiniteScroll) {\r\n          infiniteScroll.complete();\r\n        } else {\r\n          this.isLoadingActivity = false;\r\n        }\r\n      })\r\n      .do(response => {\r\n        console.log(response);\r\n        if (!response.ResponseData.length && infiniteScroll || response.ResponseData.length && response.ResponseData.length == 0 && infiniteScroll) {\r\n          infiniteScroll.enable(false);\r\n          this.page--; // Restore page back to the last correct page\r\n        }\r\n      })\r\n      .subscribe(res => {\r\n        this.handleSpace(res);\r\n        if (infiniteScroll && res.ResponseData.length < 10) {\r\n          infiniteScroll.enable(false);\r\n        }\r\n      })\r\n  }\r\n\r\n  private handleSpace(response) {\r\n    this.spaceActivities = this.spaceActivities.concat(response.ResponseData);\r\n  }\r\n\r\n  managePeople() {\r\n    this.navCtrl.push('manage-user', {\r\n      id: this.spaceId\r\n    });\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/spaces/space-details/space-details.ts"],"sourceRoot":""}