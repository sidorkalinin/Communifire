{"version":3,"sources":["../../src/pages/tasks/task-edit/task-edit.module.ts","../../src/pages/tasks/task-edit/task-edit.ts"],"names":[],"mappings":"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","file":"25.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { ComponentsModule } from '../../../components/components.module';\r\nimport { TaskProvider } from '../../../providers/task';\r\nimport { SpacesProvider } from '../../../providers/spaces';\r\nimport { MbscModule } from '../../../lib/mobiscroll/js/mobiscroll.angular.min';\r\nimport { TaskEditPage } from './task-edit';\r\nimport { PipesModule } from '../../../pipes/pipes.modules'\r\n\r\n@NgModule({\r\n  declarations: [\r\n    TaskEditPage,\r\n  ],\r\n  imports: [\r\n    IonicPageModule.forChild(TaskEditPage),\r\n    TranslateModule,\r\n    ComponentsModule,\r\n    MbscModule,\r\n    PipesModule\r\n  ],\r\n  providers: [\r\n    TaskProvider,\r\n    SpacesProvider\r\n  ]\r\n})\r\nexport class TaskEditPageModule { }\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/tasks/task-edit/task-edit.module.ts","import { Component } from '@angular/core';\r\nimport { IonicPage, NavController, NavParams, ViewController } from 'ionic-angular';\r\nimport { TaskProvider } from '../../../providers/task';\r\nimport { PeopleProvider } from '../../../providers/people';\r\n\r\n/**\r\n * Generated class for the TaskEditPage page.\r\n *\r\n * See https://ionicframework.com/docs/components/#navigation for more info on\r\n * Ionic pages and navigation.\r\n */\r\n\r\n@IonicPage({\r\n  name: \"task-edit\",\r\n  segment: \"task-edit\"\r\n})\r\n@Component({\r\n  selector: 'page-task-edit',\r\n  templateUrl: 'task-edit.html',\r\n})\r\nexport class TaskEditPage {\r\n  task: any;\r\n  spaceid: any;\r\n  tasklistid: any;\r\n  isLoading: boolean = false;\r\n\r\n  taskTitle: any;\r\n  taskSummary: any;\r\n\r\n  d_assigntos: any = [];\r\n  assignedToUserID: any;\r\n  attachFiles: any = [];\r\n  dueDate: any;\r\n\r\n  constructor(\r\n    public navCtrl: NavController,\r\n    private taskProvider: TaskProvider,\r\n    private peopleProvider: PeopleProvider,\r\n    public viewCtrl:ViewController,\r\n    private navParams: NavParams\r\n  ) {\r\n    this.task = this.navParams.get('task');\r\n    console.log(this.task);\r\n    this.spaceid = this.task.SpaceID;\r\n    this.tasklistid = this.task.TaskListID;\r\n    this.taskTitle = this.task.TaskName;\r\n    this.taskSummary = this.task.TaskDescription;\r\n    this.task.dueDate = this.task.TaskDueDate;\r\n    this.assignedToUserID = this.task.AssignedToUserID;    \r\n  }\r\n\r\n  ngOnInit() {\r\n    this.isLoading = true;\r\n    this.peopleProvider.getSpaceMembers(this.spaceid, '', 1)\r\n      .finally(()=>{\r\n      })\r\n      .subscribe((res)=>{\r\n        let assigntos = res.ResponseData;\r\n        for(var i = 0; i < assigntos.length; i++){\r\n          this.d_assigntos.push({\r\n            value: assigntos[i].UserID,\r\n            name: assigntos[i].UserInfoDisplayName,\r\n            default: assigntos[i].UserID == this.assignedToUserID\r\n          })\r\n        }\r\n      })\r\n  }\r\n\r\n  setAssignTo(usr){\r\n    this.assignedToUserID = usr.value;\r\n  }\r\n\r\n  //Attach File\r\n  setFiles(files) {\r\n    this.attachFiles = files;\r\n  }\r\n\r\n  cancel(){\r\n    this.viewCtrl.dismiss();\r\n  }\r\n  save(){\r\n    let body = {\r\n      'TaskName': this.taskTitle,\r\n      'TaskDescription': this.taskSummary,\r\n      'TaskListID': this.tasklistid,\r\n      'SpaceID': this.spaceid,\r\n      'AssignedToUserID': this.assignedToUserID,\r\n      'TaskDueDate': '2018-03-30T06:59:55'\r\n    }\r\n    console.log(body);\r\n    this.taskProvider.createTask(JSON.stringify(body))\r\n      .finally(()=>{\r\n      })\r\n      .subscribe((res)=>{\r\n        console.log(res);\r\n        if(res.IsError == false){\r\n          this.viewCtrl.dismiss();\r\n        }\r\n      })\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/tasks/task-edit/task-edit.ts"],"sourceRoot":""}