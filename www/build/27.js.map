{"version":3,"sources":["../../src/pages/spaces/spaces.module.ts","../../src/pages/spaces/spaces.ts"],"names":[],"mappings":"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","file":"27.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { SpacesPage } from './spaces';\r\nimport { ComponentsModule } from '../../components/components.module';\r\nimport { SpacesProvider } from '../../providers/spaces';\r\nimport { PipesModule } from '../../pipes/pipes.modules'\r\n\r\n@NgModule({\r\n  declarations: [\r\n    SpacesPage,\r\n  ],\r\n  imports: [\r\n    IonicPageModule.forChild(SpacesPage),\r\n    ComponentsModule,\r\n    TranslateModule,\r\n    PipesModule\r\n  ],\r\n  providers: [\r\n    SpacesProvider\r\n  ]\r\n})\r\nexport class SpacesPageModule { }\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/spaces/spaces.module.ts","import { Component, OnInit } from '@angular/core';\r\nimport { IonicPage, NavController, } from 'ionic-angular';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport 'rxjs/add/observable/forkJoin';\r\nimport 'rxjs/add/operator/finally';\r\n\r\nimport { SpacesProvider } from '../../providers/spaces';\r\nimport { AppCenterAnalytics } from '@ionic-native/app-center-analytics';\r\nimport { subscribeOn } from 'rxjs/operator/subscribeOn';\r\n\r\n@IonicPage({\r\n  name: 'spaces'\r\n})\r\n@Component({\r\n  selector: 'page-spaces',\r\n  templateUrl: 'spaces.html',\r\n})\r\n\r\nexport class SpacesPage implements OnInit {\r\n  allSpaces = [];\r\n  mySpaces = [];\r\n  spaces: string = 'my-spaces';\r\n  isLoading: boolean = false;\r\n  topLevel: any = {\r\n    SpaceID: 0,\r\n    SpaceName: \"\",\r\n    SpaceIconFileName: \"\",\r\n    SpaceVisibility: 4\r\n  }\r\n\r\n  constructor(\r\n    public navCtrl: NavController,\r\n    private spacesProvider: SpacesProvider,\r\n    private appCenterAnalytics: AppCenterAnalytics\r\n  ) {\r\n    \r\n   }\r\n\r\n  ngOnInit() {\r\n    this.isLoading = true;\r\n\r\n    Observable.forkJoin(\r\n      this.getMySpaces(),\r\n      this.getTopLevel()\r\n    )\r\n      .finally(() => this.isLoading = false)\r\n      .subscribe(spaces => {\r\n        if (spaces[1]) {\r\n          this.topLevel.SpaceName = spaces[1].SpaceName;\r\n          this.topLevel.SpaceIconFileName = spaces[1].SpaceImageURL;\r\n          this.topLevel.SpaceIconURL = spaces[1].SpaceImageURL;\r\n        }\r\n        this.mySpaces = spaces[0];\r\n      });\r\n  }\r\n\r\n  // Change tabs on Spaces list page\r\n  changeSegment($event) {        \r\n    if (this.spaces === 'my-spaces' && this.mySpaces.length == 0) {\r\n      this.getMySpaces();\r\n    }\r\n    if (this.spaces === 'all-spaces' && this.allSpaces.length == 0) {\r\n      this.isLoading = true;\r\n      this.getAllSpaces()\r\n      .finally(() => this.isLoading = false)\r\n      .subscribe((allspaceslist) => {\r\n        this.allSpaces = allspaceslist;\r\n      });\r\n    }\r\n  }\r\n\r\n  private getMySpaces() {\r\n    return this.spacesProvider.getMySpaces();\r\n  }\r\n\r\n  private getAllSpaces() {\r\n    return this.spacesProvider.getSpaces();\r\n  }\r\n\r\n  getTopLevel() {\r\n    return this.spacesProvider.getSpace(0);\r\n  }\r\n\r\n  addClick() {\r\n    this.navCtrl.push('space-create');\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/spaces/spaces.ts"],"sourceRoot":""}